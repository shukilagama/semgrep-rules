rules:
- id: metadata-deepsemgrep
  message: >-
    We no longer support `deepsemgrep: true`, please use `interfile:true`
  severity: WARNING
  metadata:
    category: correctness
    references:
    - https://semgrep.dev/
    technology:
    - semgrep
  languages:
  - yaml
  fix-regex:
    regex: deepsemgrep
    replacement: interfile
  patterns:
  - pattern-inside: |
      rules: 
        ...
  - pattern-inside: |
      metadata: 
        ...
        $DEEPSEMGREP: true
        ...
  - focus-metavariable: $DEEPSEMGREP
  - metavariable-regex:
      metavariable: $DEEPSEMGREP
      regex: ^(deepsemgrep)$

